{"name":"Workbeat.api","tagline":"Cliente para uso del API de workbeat en .NET","body":"# Workbeat.API Client\r\nCliente para uso del API de workbeat en .NET\r\n\r\nEste es cliente para utilizar las APIs de Workbeat, desarrollado en .NET.\r\n\r\n##Compilación\r\nEsta librería esta generada en Visual Studio 2012 usando .NET 4.0, aunque puede ser compilada sin problemas en Visual Studio 2010.\r\n\r\n## Uso\r\n\r\nLas APIs de workbeat son basadas en REST, utilizando un flujo de OAuth como medio de Autorizacion/Autentificacion. \r\nEste cliente utiliza exclusivamente el flujo de client_credentials, por lo que solo puede ser utilizado en un ambiente \r\nde servidor, donde el client_secret esté seguro.\r\n\r\n**Este cliente actualmente NO es seguro para utilizarse en aplicaciones las cuales expongan el client_secret de la aplicacion.**\r\nNo debe ser usado en aplicaciones de Desktop que son instaladas en computadoras para un usuario final o en las que las llamadas del API son contextuales al usuario. Por su misma naturaleza, este cliente al acceder a las APIs lo hace como administrador y tiene acceso a todas las funciones con todos los permisos.\r\n\r\n### Constructor\r\n#### Parámetros\r\n|Parámetro|Descripcion|\r\n|---|---|\r\n|apiUrl|Opcional. Url donde se encuentra el API de Workbeat. default:https://api.workbeat.com:3000/\r\n\r\n```vbnet\r\n  Dim api As New Workbeat.API.Client()\r\n```\r\n... ó tambien... \r\n```vbnet\r\n  Dim url as String = \"https://api.workbeat.com:3000/\"\r\n  Dim api As New Workbeat.API.Client(url)\r\n```\r\n\r\n### Connect\r\nPara utilizar las APIs de Workbeat, es necesario primero hacer la conexión, para autentificar al cliente.\r\n\r\n#### Parámetros\r\n|Parámetro|Descripcion|\r\n|---|---|\r\n|client_id|Identificador de la aplicación externa generada por Workbeat.\r\n|client_secret| Contraseña de la aplicación externa. Esta contraseña es generada por Workbeat.\r\n\r\n#### Resultado\r\nAl llamar al método Connect, se regresa un objeto de clase APIResultCode. Este objeto contiene un código, el cual indica si existió un error o se pudo conectar correctamente. En caso de conectarse correctamente, en la propiedad *code* se regresa un código 200. En cualquier otro caso, puede regresar un número, basado en códigos de error de HTTP\r\n\r\n```vbnet\r\n\t\tDim client_id as String = \"My Client Id\"\r\n\t\tDim client_secret as String = \"My Client Secret\"\r\n\t\tDim api As New Workbeat.API.Client()\r\n\t\tDim res As Workbeat.API.APIResultCode = api.Connect(clientId, clientSecret)\r\n\t\t\r\n\t\tIf res.code=200 Then\r\n\t\t  ' Ok... continuar ...\r\n\t\t  \r\n\t\tElse\r\n\t\t  '... Error de conexion.\r\n\t\t  If res.code = 403 Then\r\n\t\t    ' error de autentificacion \r\n\t\t  End If\r\n\t\tEnd If\r\n\t\t\r\n``` \r\n\r\n\r\n\r\nLa clase APIResultCode viene definida de la siguiente manera:\r\n```vbnet\r\nPublic Class APIResultCode\r\n\tPublic code As Integer\r\n\tPublic message As String\r\n\tPublic [error] As String\r\nEnd Class\r\n```\r\n\r\n## Métodos\r\nEl API, como se dijo anteriormente, está basada en REST, por lo que solo se necesitan los siguientes métodos.\r\n\r\n### get(path as String, jsonData as String)\r\nEl método **get** es utilizado para traer información acerca del recurso especificado. Éste método no modifica el recurso.\r\nRegresa el resultado en un string formato JSON. \r\n\r\n#### Parámetros\r\n|Parámetro|Descripcion|\r\n|---|---|\r\n|path|Ruta al recurso invocado.\r\n|jsonData| Opcional. String con formato JSON con los parámetros necesarios para la llamada.\r\n\r\nEjemplo:\r\n```vbnet\r\n\r\nDim m_apiUrl As String = \"https://api.workbeat.com:3000/\"\r\nDim  clientId As String = \"mi-client-id\"\r\nDim clientSecret As String = \"mi-client-secret\"\r\n' NOTA: Asegurarse que la aplicacion (client_id) tiene permiso de acceder al modulo de adm.\r\nDim api As New Workbeat.API.Client(m_apiUrl)\r\nDim res As Workbeat.API.APIResultCode = api.Connect(clientId, clientSecret)\r\nIf res.code = 200 Then\r\n  Dim result As String = api.get(\"adm/empleados\", Nothing)\r\n  If result.IndexOf(\"apellidoPaterno\") > 0 Then\r\n     'Procesar resultado\r\n  Else\r\n    ' No se encontro un resultado\r\n  End If\r\n  \r\n  ' Llamada que regresa un listado de empleados, con un filtro como parámetro\r\n  result = api.get(\"adm/empleados\", \"{\"\"filtro\"\":\"\"Armando\"\"}\")\r\n  If result.IndexOf(\"Armando\") > 0 Then\r\n     'Procesar resultado\r\n  Else\r\n    ' No se encontro un resultado\r\n  End If\r\n  \r\nEnd If\r\n```\r\n\r\n\r\n### post(resourcePath As String, jsonData As String)\r\nUtilizado normalmente para crear un nuevo recurso (empleado, posicion, etc). En algunos casos puede ser utilizado para actualizar un recurso.\r\n\r\n#### Parámetros\r\n|Parámetro|Descripcion|\r\n|---|---|\r\n|path|Ruta al recurso invocado.\r\n|jsonData| Opcional. String con formato JSON con los parámetros necesarios para la llamada.\r\n\r\n#### Resultado\r\nNormalmente, la creación de un recurso, regresa un string con una representación JSON del mismo. Esta representación incluye el identificador asignado por workbeat al recurso recién creado.\r\n\r\n\r\n### put(resourcePath As String, jsonData As String) As String\r\nUtilizado para actualizar ciertos tipos de recursos. Dependiendo del recurso, este puede ser actualizado ya sea con put o post.\r\n\r\n#### Parámetros\r\n|Parámetro|Descripcion|\r\n|---|---|\r\n|path|Ruta al recurso invocado.\r\n|jsonData| Opcional. String con formato JSON con los parámetros necesarios para la llamada.\r\n\r\n#### Resultado\r\nNormalmente, la actualización de un recurso, regresa un string con una representación JSON del mismo.\r\n\r\n\r\n### delete(resourcePath As String, jsonData As String)\r\nUtilizado para borrar un recurso. Normalmente solo regresa un código de status 200 cuando se pudo hacer el borrado sin problemas.\r\n\r\n#### Parámetros\r\n|Parámetro|Descripcion|\r\n|---|---|\r\n|resourcePath|Ruta al recurso invocado.\r\n|jsonData| Opcional. String con formato JSON con los parámetros necesarios para la llamada.\r\n\r\n\r\n#### Resultado\r\nComo resultado de un borrado, se regresa un código de error. El código 200 significa que el recurso fue borrado correctamente.\r\n\r\n\r\n## Referencia/documentación de APIs\r\nLa [documentación del API de workbeat](Workbeat.API/docs/resourceList.html) está siempre siendo actualizada. Esta puede ser consultada [aquí](Workbeat.API/docs/resourceList.html)\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}